package com.rr.utils {	import com.flashgangsta.managers.MappingManager;	import com.rr.Entities;	import flash.display.MovieClip;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.utils.Dictionary;		/**	 * ...	 * @author Sergey Krivtsov	 */		public class ComponentManager {				private var buyLabelButtonDefaultData:Dictionary;				public function ComponentManager() {					}				/**		 * Заполняет кнопку-ценник		 * @param	button кнопка		 * @param	price цена		 * @param	currency валюта		 */				public function fillBuyLabelButton( button:MovieClip, price:int, currency:String = Entities.NUT ):void {						if ( !buyLabelButtonDefaultData ) {				recordBuyLabelButtonDefaultData( button );			} else {				resetBuyLabelButtonElements( button );			}						var priceLabel:TextField = button.label_mc.price_txt;			var prefixLabel:TextField = button.label_mc.prefix_txt;			var priceIco:MovieClip = button.label_mc.ico_mc;			var maxWidth:int = button.body_mc.width;			var labelWidth:int;						priceIco.gotoAndStop( currency );			priceLabel.text = TextConverter.getNumber( price );			priceLabel.autoSize = TextFieldAutoSize.LEFT;						labelWidth = priceLabel.x + priceLabel.textWidth;						var icoMargin:int = priceIco.x - prefixLabel.width;			var priceMargin:int = priceLabel.x - prefixLabel.width;						prefixLabel.x = MappingManager.getCentricPoint( maxWidth, labelWidth ) - 5;			priceIco.x = prefixLabel.x + prefixLabel.width + icoMargin;			priceLabel.x = prefixLabel.x + prefixLabel.width + priceMargin;		}				/**		 * Записыает стандартное расположение элементов кнопки-ценника		 * @param	button		 */				private function recordBuyLabelButtonDefaultData( button:MovieClip ):void {			buyLabelButtonDefaultData = new Dictionary();			buyLabelButtonDefaultData.priceLabelX = button.label_mc.price_txt.x;			buyLabelButtonDefaultData.prefixLabelX = button.label_mc.prefix_txt.x;			buyLabelButtonDefaultData.priceIcoX =  button.label_mc.ico_mc.x;		}				/**		 * Возвращает элементы кнопок в первоначальное расположение		 * @param	button		 */				private function resetBuyLabelButtonElements( button:MovieClip ):void {			button.label_mc.price_txt.x = buyLabelButtonDefaultData.priceLabelX;			button.label_mc.prefix_txt.x = buyLabelButtonDefaultData.prefixLabelX;			button.label_mc.ico_mc.x = buyLabelButtonDefaultData.priceIcoX;		}			}}